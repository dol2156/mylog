(function(){"use strict";var e={3343:function(e,t,n){var o=n(9242),i=n(3396);function s(e,t,n,o,s,a){const l=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(l)}var a={name:"App",data(){return{message:"Hello Vue"}}},l=n(89);const r=(0,l.Z)(a,[["render",s]]);var c=r,u=n(678),h=n(7139);const d=["data-idx","value"],m={class:"menu_atc"},p=(0,i.Uk)("카테고리 추가"),_={class:"webtoon_list"},g=["data-idx"],b=["onClick"],y={class:"제목"},f={class:"text_0"},k={class:"text_1"},v=["onUpdate:modelValue"],w=["onClick"],C={class:"create_webtoon_item_box"};function I(e,t,n,s,a,l){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("header",{class:(0,h.C_)({open:this.menu_open})},[(0,i._)("section",null,[(0,i._)("article",null,[(0,i._)("input",{class:"search_inp",type:"search",placeholder:"search...",onInput:t[0]||(t[0]=(...e)=>l.onSearchInput&&l.onSearchInput(...e))},null,32),(0,i.wy)((0,i._)("select",{class:"collection_select",onChange:t[1]||(t[1]=(...e)=>l.onCollectionChange&&l.onCollectionChange(...e)),"onUpdate:modelValue":t[2]||(t[2]=e=>this.key=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.key_list,((e,t)=>((0,i.wg)(),(0,i.iD)("option",{key:e.id,"data-idx":t,value:e.key},(0,h.zw)(e.name),9,d)))),128))],544),[[o.bM,this.key]]),(0,i._)("button",{class:"menu_btn",onClick:t[3]||(t[3]=(...e)=>l.onMenuBtnClick&&l.onMenuBtnClick(...e))},"메뉴")]),(0,i._)("article",m,[(0,i.Wm)(r,{to:"/addKey",class:"add_key_btn"},{default:(0,i.w5)((()=>[p])),_:1}),(0,i._)("button",{class:"logout_btn",onClick:t[4]||(t[4]=(...e)=>l.onLogoutClick&&l.onLogoutClick(...e))},"로그아웃")])])],2),(0,i._)("ul",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.webtoon_list,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:(0,h.C_)({hidden:!1===e.visible}),ref_for:!0,ref:l.setitemRef,key:e.id,"data-idx":t},[(0,i._)("button",{class:"삭제",type:"button",onClick:t=>l.onRemoveWebToonItem(e)},"삭제",8,b),(0,i._)("div",y,[(0,i._)("div",f,(0,h.zw)(e.id),1),(0,i._)("div",k,(0,h.zw)(e.title),1)]),(0,i.wy)((0,i._)("input",{class:"회차",type:"number","onUpdate:modelValue":t=>e.ep_num=t,onclick:"this.select();"},null,8,v),[[o.nr,e.ep_num]]),(0,i._)("button",{class:"저장",type:"button",onClick:t=>l.onSaveClick(e)},"저장",8,w)],10,g)))),128))]),(0,i._)("footer",null,[(0,i._)("div",C,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"제목 입력","onUpdate:modelValue":t[5]||(t[5]=e=>this.create_webtoon_title=e),onKeyup:t[6]||(t[6]=(0,o.D2)(((...e)=>l.onCreateWebToonItem&&l.onCreateWebToonItem(...e)),["enter"]))},null,544),[[o.nr,this.create_webtoon_title]]),(0,i._)("button",{class:"create_btn",type:"button",onClick:t[7]||(t[7]=(...e)=>l.onCreateWebToonItem&&l.onCreateWebToonItem(...e))},"추가")])])],64)}var L=n(6035);let x,W;var T={name:"PageMain",data(){return{message:"Hello Vue",webtoon_list:[],create_webtoon_title:"",itemRefs:[],user_id:"",key_list:[],key:"webtoon",menu_open:!1}},created(){console.log("created"),this.$_LoginCheck.check(),this.$route.params.key&&(this.key=this.$route.params.key),this.user_id=this.$cookies.get("user_id"),this.$_LoginCheck.check(),this.user_id&&(x=this.$_Firebase,W=(0,L.ad)(x),this.loadCollectionList())},computed:{getListPath(){return this.user_id+"/"+this.key+"/list"}},methods:{setitemRef(e){this.itemRefs.push(e)},loadCollectionList(){(0,L.PL)((0,L.hJ)(W,this.user_id)).then((e=>{let t=[];e.forEach((e=>{t.push({key:e.id,name:e.data().name})})),this.key_list=t,this.readWebToonItem()})).catch((e=>{console.log(e)})).then((()=>{}))},makeWebToonObj(e,t){const n={title:e,ep_num:t};return n},readWebToonItem(){(0,L.PL)((0,L.hJ)(W,this.getListPath)).then((e=>{let t=[];e.forEach((e=>{let n=e.data();n.id=e.id,n.visible=!0,t.push(n)})),t.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})),this.webtoon_list=t})).catch((e=>{console.log(e)})).then((()=>{}))},createWebToonItem(e){(0,L.ET)((0,L.hJ)(W,this.getListPath),this.makeWebToonObj(e,0)).then((e=>{console.log(e),this.readWebToonItem(),this.create_webtoon_title=""})).catch((e=>{console.log(e)})).then((()=>{}))},updateWebToonItem(e,t){const n=e.id,o=e.ep_num,i=(0,L.JU)(W,this.getListPath,n);(0,L.r7)(i,{ep_num:o}).then((()=>{this.readWebToonItem(),t()})).catch((e=>{console.log(e)})).then((()=>{}))},onMenuBtnClick(){this.menu_open=!this.menu_open},onLogoutClick(){window.confirm("로그아웃?")&&(this.$cookies.remove("user_id"),this.$router.push("/login"))},onCollectionChange(){console.log(this.getListPath),this.$router.push({name:"메인:key",params:{key:this.key}}),this.readWebToonItem()},onSearchInput(){const e=event.target.value;this.webtoon_list.filter((t=>{t.title.toLowerCase().indexOf(e)>-1?t.visible=!0:t.visible=!1}))},onCreateWebToonItem(){const e=this.create_webtoon_title.trim();e&&this.createWebToonItem(e)},onRemoveWebToonItem(e){if(!window.confirm("삭제?"))return;const t=e.id,n=(0,L.JU)(W,this.getListPath,t);(0,L.oe)(n).then((()=>{this.readWebToonItem()})).catch((e=>{console.log(e)})).then((()=>{}))},onSaveClick(e){console.log(e);const t=event.target;t.classList.add("disabled"),this.updateWebToonItem(e,(()=>{t.classList.remove("disabled")}))}}};const P=(0,l.Z)(T,[["render",I],["__scopeId","data-v-51027562"]]);var S=P,U=n.p+"img/logo.218212c1.png";const $=e=>((0,i.dD)("data-v-6dd57ed8"),e=e(),(0,i.Cn)(),e),O=$((()=>(0,i._)("div",{style:{"margin-bottom":"20px"}},[(0,i._)("img",{style:{width:"200px"},src:U,alt:""})],-1))),D=$((()=>(0,i._)("button",{class:"form_el login_btn",type:"submit"},"LOGIN",-1))),V=(0,i.Uk)("JOIN");function j(e,t,n,s,a,l){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("form",{id:"myForm",onSubmit:t[3]||(t[3]=(0,o.iM)(((...e)=>l.onSubmit&&l.onSubmit(...e)),["prevent"]))},[O,(0,i.wy)((0,i._)("input",{class:"form_el id_input",type:"email",placeholder:"ID","onUpdate:modelValue":t[0]||(t[0]=e=>this.email=e)},null,512),[[o.nr,this.email]]),(0,i.wy)((0,i._)("input",{class:"form_el pw_input",type:"password",inputmode:"numeric",placeholder:"PASSWORD",maxlength:"6",pattern:"^[0-9]+$","onUpdate:modelValue":t[1]||(t[1]=e=>this.password=e),onInput:t[2]||(t[2]=(...e)=>l.maxLengthCheck&&l.maxLengthCheck(...e))},null,544),[[o.nr,this.password]]),D,(0,i.Wm)(r,{to:"/join",class:"form_el join_btn"},{default:(0,i.w5)((()=>[V])),_:1})],32)}var J=n(8176),K={name:"PageLogin",data(){return{message:"Hello Vue",email:"",password:""}},created(){const e=this.$route.query.email;e&&(this.email=e)},methods:{maxLengthCheck(){const e=event.target;e.value.length>e.maxLength&&(e.value=e.value.slice(0,e.maxLength))},onSubmit(){console.log(event);const e=(0,J.v0)();(0,J.e5)(e,this.email,this.password).then((e=>{const t=e.user,n=t.email;this.$cookies.set("user_id",n,"7d"),this.$router.push("/main")})).catch((e=>{const t=e.code;console.log("errorCode : ",t),alert(t);const n=e.message;console.log("errorMessage : ",n)}))}}};const R=(0,l.Z)(K,[["render",j],["__scopeId","data-v-6dd57ed8"]]);var A=R;function M(e,t,n,s,a,l){return(0,i.wg)(),(0,i.iD)("main",null,[(0,i._)("form",{onSubmit:t[4]||(t[4]=(0,o.iM)(((...t)=>e.onSubmit&&e.onSubmit(...t)),["prevent"]))},[(0,i.wy)((0,i._)("input",{class:"form_el id_input",type:"email",placeholder:"ID",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>this.id=e)},null,512),[[o.nr,this.id]]),(0,i.wy)((0,i._)("input",{class:"form_el pw_input",type:"text",placeholder:"PASSWORD",required:"",minlength:"6",maxlength:"6",pattern:"^[0-9]+$","onUpdate:modelValue":t[1]||(t[1]=e=>this.pw=e),onInput:t[2]||(t[2]=(...e)=>l.maxLengthCheck&&l.maxLengthCheck(...e))},null,544),[[o.nr,this.pw]]),(0,i._)("button",{class:"form_el submit_btn",type:"submit",onClick:t[3]||(t[3]=(...e)=>l.onSignUp&&l.onSignUp(...e))},"SIGN UP")],32)])}var F={name:"PageJoin",data(){return{id:"",pw:""}},methods:{maxLengthCheck(){const e=event.target;e.value.length>e.maxLength&&(e.value=e.value.slice(0,e.maxLength))},onSignUp(){const e=(0,J.v0)(),t=this.id,n=this.pw;(0,J.Xb)(e,t,n).then((e=>{const t=e.user;console.log(t),alert(t.email+" / 가입 성공"),this.$router.push("/login?email="+t.email)})).catch((e=>{const t=e.message;alert(t)}))}}};const H=(0,l.Z)(F,[["render",M],["__scopeId","data-v-4e4f4619"]]);var Z=H;function z(e,t,n,s,a,l){return(0,i.wg)(),(0,i.iD)("main",null,[(0,i.wy)((0,i._)("input",{class:"form_el",type:"text",placeholder:"key","onUpdate:modelValue":t[0]||(t[0]=e=>this.key=e)},null,512),[[o.nr,this.key]]),(0,i.wy)((0,i._)("input",{class:"form_el",type:"text",placeholder:"key_name","onUpdate:modelValue":t[1]||(t[1]=e=>this.key_name=e)},null,512),[[o.nr,this.key_name]]),(0,i._)("button",{class:"form_el add_btn",onClick:t[2]||(t[2]=(...e)=>l.onAddKey&&l.onAddKey(...e))},"추가")])}let B,Y;L.hJ,L.JU,L.PL,L.r7,L.oe;var E={name:"PageAddKey",data(){return{user_id:"",key:"",key_name:""}},created(){console.log("created"),this.$route.params.key&&(this.key=this.$route.params.key),this.user_id=this.$cookies.get("user_id"),B=this.$_Firebase,Y=(0,L.ad)(B)},computed:{getListPath(){return this.user_id+"/"+this.key+"/list"}},methods:{onAddKey(){this.key?this.createWebToonItem():alert("key 값이 비었네?")},createWebToonItem(){const e=(0,L.JU)(Y,this.user_id,this.key.trim());(0,L.pl)(e,{name:this.key_name.trim()}).then((()=>{console.log("success"),this.$router.push({name:"메인:key",params:{key:this.key}})})).catch((e=>{console.log(e)})).then((()=>{}))}}};const q=(0,l.Z)(E,[["render",z],["__scopeId","data-v-620b453f"]]);var N=q;const G=[{path:"/",redirect:"/main"},{path:"/main",name:"메인",component:S},{path:"/main/:key",name:"메인:key",component:S},{path:"/login",name:"로그인",component:A},{path:"/join",name:"회원가입",component:Z},{path:"/addKey",name:"키추가",component:N}],X=(0,u.p7)({history:(0,u.r5)(),routes:G});var Q=X,ee=n(4275),te=n(5269),ne=n.n(te);const oe=()=>{const e=ne().get("user_id");e||Q.push("/login"),console.log("user_id",e)};var ie={check:oe};const se={apiKey:"AIzaSyARebWmpXUwkBpidtlVaYpWRPCv-fUzOYw",authDomain:"mylog-c26f1.firebaseapp.com",projectId:"mylog-c26f1",storageBucket:"mylog-c26f1.appspot.com",messagingSenderId:"673156150443",appId:"1:673156150443:web:3bb00fd05d921c6d3ef3ee"},ae=(0,o.ri)(c);ae.use(Q),ae.use(ne(),{expire:"7d"}),ae.config.globalProperties.$_Firebase=(0,ee.ZF)(se),ae.config.globalProperties.$_LoginCheck=ie,ae.mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,s){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],i=e[u][1],s=e[u][2];for(var l=!0,r=0;r<o.length;r++)(!1&s||a>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[r])}))?o.splice(r--,1):(l=!1,s<a&&(a=s));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,i,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/mylog/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,s,a=o[0],l=o[1],r=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(r)var u=r(n)}for(t&&t(o);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},o=self["webpackChunkmylog"]=self["webpackChunkmylog"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3343)}));o=n.O(o)})();
//# sourceMappingURL=app.6c2db7b4.js.map