(function(){"use strict";var e={1999:function(e,t,o){var n=o(9242),i=o(3396);function s(e,t,o,n,s,a){const r=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(r)}var a={name:"App",data(){return{message:"Hello Vue"}},created(){const e=this.$cookies.get("user_id");e||this.$router.push("/login"),console.log("user_id",e)}},r=o(89);const l=(0,r.Z)(a,[["render",s]]);var c=l,u=o(678),d=o(7139);const h=["data-idx","value"],m=(0,i.Uk)("+"),p={class:"webtoon_list"},_=["data-idx"],b=["onClick"],g={class:"제목"},y={class:"text_0"},f={class:"text_1"},k=["onUpdate:modelValue"],v=["onClick"],w={class:"create_webtoon_item_box"};function I(e,t,o,s,a,r){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("header",null,[(0,i.wy)((0,i._)("select",{class:"collection_select",onChange:t[0]||(t[0]=(...e)=>r.onCollectionChange&&r.onCollectionChange(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>this.key=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.key_list,((e,t)=>((0,i.wg)(),(0,i.iD)("option",{key:e.id,"data-idx":t,value:e.key},(0,d.zw)(e.name),9,h)))),128))],544),[[n.bM,this.key]]),(0,i.Wm)(l,{to:"/addKey",class:"add_key_btn"},{default:(0,i.w5)((()=>[m])),_:1}),(0,i._)("input",{class:"search_inp",type:"search",placeholder:"search...",onInput:t[2]||(t[2]=(...e)=>r.onSearchInput&&r.onSearchInput(...e))},null,32)]),(0,i._)("ul",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.webtoon_list,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:(0,d.C_)({hidden:!1===e.visible}),ref_for:!0,ref:r.setitemRef,key:e.id,"data-idx":t},[(0,i._)("button",{class:"삭제",type:"button",onClick:t=>r.onRemoveWebToonItem(e)},"삭제",8,b),(0,i._)("div",g,[(0,i._)("div",y,(0,d.zw)(e.id),1),(0,i._)("div",f,(0,d.zw)(e.title),1)]),(0,i.wy)((0,i._)("input",{class:"회차",type:"number","onUpdate:modelValue":t=>e.ep_num=t,onclick:"this.select();"},null,8,k),[[n.nr,e.ep_num]]),(0,i._)("button",{class:"저장",type:"button",onClick:t=>r.onSaveClick(e)},"저장",8,v)],10,_)))),128))]),(0,i._)("footer",null,[(0,i._)("div",w,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"웹툰 제목 입력","onUpdate:modelValue":t[3]||(t[3]=e=>this.create_webtoon_title=e),onKeyup:t[4]||(t[4]=(0,n.D2)(((...e)=>r.onCreateWebToonItem&&r.onCreateWebToonItem(...e)),["enter"]))},null,544),[[n.nr,this.create_webtoon_title]]),(0,i._)("button",{class:"create_btn",type:"button",onClick:t[5]||(t[5]=(...e)=>r.onCreateWebToonItem&&r.onCreateWebToonItem(...e))},"추가")])])],64)}var C=o(6035);let W,x;C.pl;var T={name:"PageMain",data(){return{message:"Hello Vue",webtoon_list:[],create_webtoon_title:"",itemRefs:[],user_id:"",key_list:[],key:"webtoon"}},created(){console.log("created"),this.$route.params.key&&(this.key=this.$route.params.key),this.user_id=this.$cookies.get("user_id"),W=this.$_Firebase,x=(0,C.ad)(W),this.loadCollectionList()},computed:{getListPath(){return this.user_id+"/"+this.key+"/list"}},methods:{setitemRef(e){this.itemRefs.push(e)},loadCollectionList(){(0,C.PL)((0,C.hJ)(x,this.user_id)).then((e=>{let t=[];e.forEach((e=>{t.push({key:e.id,name:e.data().name})})),this.key_list=t,this.readWebToonItem()})).catch((e=>{console.log(e)})).then((()=>{}))},makeWebToonObj(e,t){const o={title:e,ep_num:t};return o},readWebToonItem(){(0,C.PL)((0,C.hJ)(x,this.getListPath)).then((e=>{let t=[];e.forEach((e=>{let o=e.data();o.id=e.id,o.visible=!0,t.push(o)})),t.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})),this.webtoon_list=t})).catch((e=>{console.log(e)})).then((()=>{}))},createWebToonItem(e){(0,C.ET)((0,C.hJ)(x,this.getListPath),this.makeWebToonObj(e,0)).then((e=>{console.log(e),this.readWebToonItem(),this.create_webtoon_title=""})).catch((e=>{console.log(e)})).then((()=>{}))},updateWebToonItem(e,t){const o=e.id,n=e.ep_num,i=(0,C.JU)(x,this.getListPath,o);(0,C.r7)(i,{ep_num:n}).then((()=>{this.readWebToonItem(),t()})).catch((e=>{console.log(e)})).then((()=>{}))},onCollectionChange(){console.log(this.getListPath),this.$router.push({name:"메인:key",params:{key:this.key}}),this.readWebToonItem()},onSearchInput(){const e=event.target.value;this.webtoon_list.filter((t=>{t.title.toLowerCase().indexOf(e)>-1?t.visible=!0:t.visible=!1}))},onCreateWebToonItem(){const e=this.create_webtoon_title.trim();this.createWebToonItem(e)},onRemoveWebToonItem(e){if(!window.confirm("삭제?"))return;const t=e.id,o=(0,C.JU)(x,this.getListPath,t);(0,C.oe)(o).then((()=>{this.readWebToonItem()})).catch((e=>{console.log(e)})).then((()=>{}))},onSaveClick(e){console.log(e);const t=event.target;t.classList.add("disabled"),this.updateWebToonItem(e,(()=>{t.classList.remove("disabled")}))}}};const L=(0,r.Z)(T,[["render",I],["__scopeId","data-v-4e41389d"]]);var P=L,O=o.p+"img/logo.dcf57103.png";const $=e=>((0,i.dD)("data-v-24bf9a20"),e=e(),(0,i.Cn)(),e),U=$((()=>(0,i._)("div",{style:{"margin-bottom":"20px"}},[(0,i._)("img",{style:{width:"200px"},src:O,alt:""})],-1))),S=$((()=>(0,i._)("button",{class:"form_el login_btn",type:"submit"},"LOGIN",-1)));function D(e,t,o,s,a,r){return(0,i.wg)(),(0,i.iD)("form",{id:"myForm",onSubmit:t[3]||(t[3]=(0,n.iM)(((...e)=>r.onSubmit&&r.onSubmit(...e)),["prevent"]))},[U,(0,i.wy)((0,i._)("input",{class:"form_el id_input",type:"email",placeholder:"ID","onUpdate:modelValue":t[0]||(t[0]=e=>this.email=e)},null,512),[[n.nr,this.email]]),(0,i.wy)((0,i._)("input",{class:"form_el pw_input",type:"password",inputmode:"numeric",placeholder:"PASSWORD",maxlength:"6",pattern:"^[0-9]+$","onUpdate:modelValue":t[1]||(t[1]=e=>this.password=e),onInput:t[2]||(t[2]=(...e)=>r.maxLengthCheck&&r.maxLengthCheck(...e))},null,544),[[n.nr,this.password]]),S],32)}var V=o(8176),j={name:"PageLogin",data(){return{message:"Hello Vue",email:"",password:""}},methods:{maxLengthCheck(){const e=event.target;e.value.length>e.maxLength&&(e.value=e.value.slice(0,e.maxLength))},onSubmit(){console.log(event);const e=(0,V.v0)();(0,V.e5)(e,this.email,this.password).then((e=>{const t=e.user,o=t.email;this.$cookies.set("user_id",o,"7d"),this.$router.push("/main")})).catch((e=>{const t=e.code;console.log("errorCode : ",t),alert(t);const o=e.message;console.log("errorMessage : ",o)}))}}};const K=(0,r.Z)(j,[["render",D],["__scopeId","data-v-24bf9a20"]]);var R=K;function A(e,t,o,s,a,r){return(0,i.wg)(),(0,i.iD)("main",null,[(0,i.wy)((0,i._)("input",{class:"form_el",type:"text",placeholder:"key","onUpdate:modelValue":t[0]||(t[0]=e=>this.key=e)},null,512),[[n.nr,this.key]]),(0,i.wy)((0,i._)("input",{class:"form_el",type:"text",placeholder:"key_name","onUpdate:modelValue":t[1]||(t[1]=e=>this.key_name=e)},null,512),[[n.nr,this.key_name]]),(0,i._)("button",{class:"form_el add_btn",onClick:t[2]||(t[2]=(...e)=>r.onAddKey&&r.onAddKey(...e))},"추가")])}let J,F;C.hJ,C.JU,C.PL,C.r7,C.oe;var H={name:"PageAddKey",data(){return{user_id:"",key:"",key_name:""}},created(){console.log("created"),this.$route.params.key&&(this.key=this.$route.params.key),this.user_id=this.$cookies.get("user_id"),J=this.$_Firebase,F=(0,C.ad)(J)},computed:{getListPath(){return this.user_id+"/"+this.key+"/list"}},methods:{onAddKey(){this.key?this.createWebToonItem():alert("key 값이 비었네?")},createWebToonItem(){const e=(0,C.JU)(F,this.user_id,this.key.trim());(0,C.pl)(e,{name:this.key_name.trim()}).then((()=>{console.log("success"),this.$router.push({name:"메인:key",params:{key:this.key}})})).catch((e=>{console.log(e)})).then((()=>{}))}}};const z=(0,r.Z)(H,[["render",A],["__scopeId","data-v-620b453f"]]);var M=z;const Y=[{path:"/",redirect:"/main"},{path:"/main",name:"메인",component:P},{path:"/main/:key",name:"메인:key",component:P},{path:"/login",name:"로그인",component:R},{path:"/addKey",name:"키추가",component:M}],Z=(0,u.p7)({history:(0,u.r5)(),routes:Y});var E=Z,B=o(4275),G=o(5269),N=o.n(G);const X={apiKey:"AIzaSyARebWmpXUwkBpidtlVaYpWRPCv-fUzOYw",authDomain:"mylog-c26f1.firebaseapp.com",projectId:"mylog-c26f1",storageBucket:"mylog-c26f1.appspot.com",messagingSenderId:"673156150443",appId:"1:673156150443:web:3bb00fd05d921c6d3ef3ee"},q=(0,n.ri)(c);q.use(E),q.use(N(),{expire:"7d"}),q.config.globalProperties.$_Firebase=(0,B.ZF)(X),q.mount("#app")}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,n,i,s){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],s=e[u][2];for(var r=!0,l=0;l<n.length;l++)(!1&s||a>=s)&&Object.keys(o.O).every((function(e){return o.O[e](n[l])}))?n.splice(l--,1):(r=!1,s<a&&(a=s));if(r){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,i,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/mylog/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,s,a=n[0],r=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in r)o.o(r,i)&&(o.m[i]=r[i]);if(l)var u=l(o)}for(t&&t(n);c<a.length;c++)s=a[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(u)},n=self["webpackChunkmylog"]=self["webpackChunkmylog"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(1999)}));n=o.O(n)})();
//# sourceMappingURL=app.78988a6b.js.map